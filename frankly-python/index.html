<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>frankly API documentation</title>
    <meta name="description" content="The module provides types and functions for interacting with the **Frankly API**.

Goal
====

Frankl..." />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>


  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">


    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#frankly.FranklyClient">FranklyClient</a></span>
        
          
  <ul>
    <li class="mono"><a href="#frankly.FranklyClient.__init__">__init__</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.authenticate">authenticate</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.create">create</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.create_announcement">create_announcement</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.create_file">create_file</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.create_room">create_room</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.create_room_message">create_room_message</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.delete">delete</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.delete_announcement">delete_announcement</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.delete_room">delete_room</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.publish_announcement">publish_announcement</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.read">read</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.read_announcement">read_announcement</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.read_announcement_list">read_announcement_list</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.read_announcement_room_list">read_announcement_room_list</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.read_room">read_room</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.read_room_list">read_room_list</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.read_room_message_list">read_room_message_list</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.update">update</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.update_file">update_file</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.update_file_from_path">update_file_from_path</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.update_room">update_room</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.upload">upload</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.upload_file">upload_file</a></li>
    <li class="mono"><a href="#frankly.FranklyClient.upload_file_from_path">upload_file_from_path</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#frankly.FranklyError">FranklyError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#frankly.FranklyError.__init__">__init__</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">frankly</span> module</h1>
  <p>The module provides types and functions for interacting with the <strong>Frankly API</strong>.</p>
<h1>Goal</h1>
<p>Frankly exposes a REST API to give a higer control to customers over the way
they want to use the platform.
Most operations available through the <strong>Frankly Console</strong> can be automated by
querying the <strong>Frankly API</strong> directly.</p>
<p>But the API needing to be secure and flexible a developer needs to master a
couple of concepts about how it works to take most advantage of it.
To make the learning curve smoother and development faster the frankly module
exposes operations available on the API through python methods of a client
object.</p>
<p>Things like authentication which are redundant and unproductive tasks are
nicely abstracted by the module to help developers focus on the core of what
they need to get done with the <strong>Frankly API</strong>.</p>
<h1>Installation</h1>
<p>The frankly module can be installed like most python modules using pip:</p>
<p><code>$ pip install https://github.com/franklyinc/frankly-python#egg=frankly</code></p>
<h1>Usage</h1>
<p>The sections bellow explain how to use the module to authenticate and query
the <strong>Frankly API</strong>.</p>
<p>All operations to the API are made from instances of the <code>FranklyClient</code> class.
Those objects expose methods to the application which map to remote procedure
calls (RPC) on the <strong>Frankly</strong> servers, they also negotiate and maintain the
state required by the API's security policies.</p>
<p>Here's how <code>FranklyClient</code> instances are created:</p>
<pre><code>from frankly import FranklyClient

client = FranklyClient()
</code></pre>
<h2>Authentication</h2>
<p>Before performing any operation (calling any method) the client instance needs
to authenticate against Frankly API.
The API supports different level of permissions but this module is design to
only allow <em>admin</em> authentication.</p>
<p>When authenticating as an <em>admin</em> user the client needs to be given the <code>app_key</code>
and <code>app_secret</code> values obtained from the <a href="https://console.franklychat.com/"><strong>Frankly Console</strong></a>.</p>
<p>Here's how to perform authentication:</p>
<pre><code>from frankly import FranklyClient

app_key    = 'app_key from Frankly Console'
app_secret = 'app_secret from Frankly Console'

client = FranklyClient()
client.authenticate(app_key, app_secret)
</code></pre>
<p>If the call to <code>authenticate</code> returns then authentication was successful and
the application can move on and use this instance of <code>FranklyClient</code> to perform
other operations.</p>
<p><em>Publishing the <code>app_secret</code> value to the public can have security implications
and could be used by an attacker to alter the content of an application.</em></p>
<h2>Rooms</h2>
<p>One of the central concepts in the <strong>Frankly API</strong> is the chat room.
An application can create, update and delete chat rooms. A chat room can be
seen as a collection of messages, with some associated meta-data like the title,
description or avatar image to be displayed when the end users access the mobile
or web app embedding a <strong>Frankly SDK</strong>.</p>
<p>This code snippet shows how to create chat rooms:</p>
<pre><code>from frankly import FranklyClient

...

room = client.create_room(
    title       = 'Hi',
    description = 'My First Chat Room',
    status      = 'active',
)
</code></pre>
<p>As we can see here, when creating a room the application must specify a <em>status</em>
property which can be one of the following:</p>
<ul>
<li>
<p><code>unpublished</code> in this state the room will not be shown to clients fetching the
list of available rooms in the app, this is useful if the application needs to
create rooms that shouldn't be available yet because they still need to be modified.</p>
</li>
<li>
<p><code>active</code> in this state the room will be displayed in all clients fetching the
list of available rooms that end users can join to start chatting with each other.</p>
</li>
<li>
<p><code>inactive</code> this last state is an intermediary state between the first two, the
room will be part of fetching operations but they will not be displayed in the
mobile or web app UI, it is useful for testing purposes.</p>
</li>
</ul>
<h2>Messages</h2>
<p>Frankly being a chat platform it allows applications to send and receive messages.
Naturally <code>FranklyClient</code> instances can publish and fetch messages to chat rooms.</p>
<p>This code snippet shows hot to create messages:</p>
<pre><code>from frankly import FranklyClient

...

message1 = client.create_message(
    room.id,
    contents = [{
      'type' : 'text/plain',
      'value': 'Hello World!',
    }],
)

message2 = client.create_message(
    room.id,
    contents = [{
      'type': 'image/*',
      'url' : 'https://app.franklychat.com/files/...',
    }]
)
</code></pre>
<p>Let's explain quickly what's happening here: messages published to chat rooms
actually support multiple parts, they may contain few text entries, or a text
and an image, etc... So the <em>contents</em> property is actually a list of objects.
Fields of the content objects are:</p>
<ul>
<li>
<p><code>type</code> which is the mime type of the actual content it represent and gives
the application informations about how to render the content. This is mandatory.</p>
</li>
<li>
<p><code>value</code> which is used for inline resources directly embedded into the message.</p>
</li>
<li>
<p><code>url</code> which is used for remote resources that the application can upload and
download in parallel of sending or receiving messages. On of <em>value</em> or <em>url</em>
must be specified.</p>
</li>
</ul>
<p>Typically, text messages are inlined because they are small enough resources
that they can be embedded into the message without impact user experience.
Images on the other end may take a while to download and rendering can be
optimized using caching mechanisms to avoid downloading large resources too
often, that's why they should provided as a remote resource (we'll see later
in the <em>Files</em> section how to generate remote resource URLs).</p>
<p><em>Keep in mind that messages will be broadcasted to every client application
currently listening for messages on the same chat room when they are created.</em></p>
<h2>Announcements</h2>
<p>Announcements are a different type of messages which are only available to
admin users.<br />
A client authenticated with admin priviledges can create announcements in the
app, which can then be published to one or more rooms at a later time.</p>
<p>In mobile and web apps embedding a <strong>Frankly SDK</strong>, announcements are rendered
differently from regular messages, they are highlighted and can be forced to
stick at the top of the chat room UI to give some context to end users about
what is currently ongoing.</p>
<p>Here's how an app using the frankly module would create and then publish
announcements:</p>
<pre><code>from frankly import FranklyClient

...

anno = client.create_announcement(
    contents = [{
      'type' : 'text/plain',
      'value': 'Hi everybody!!!',
    }],
)

client.publish_announcement(
    anno.id,
    room.id,
)
</code></pre>
<p>As we can see here, the announcement is created with the same structure than
a regular message.<br />
The content of the announcement is actually what is going to be set as the
message content when published to a room and obeys the same rules that were
described in the <em>Messages</em> section regarding inline and remote content.</p>
<h2>Files</h2>
<p>Objects of the <strong>Frankly API</strong> can have URL properties set to reference
remote resources like images. All these URLs must be within the
<code>https://app.franklychat.com</code> domain, which means an application must
upload these resources to Frankly servers.  </p>
<p>Uploading a file happens in two steps, first the application needs to
request a new file URL to the <strong>Frankly API</strong>, then it can use that URL to
upload a resource to Frankly servers.<br />
Lukily the frankly module abstracts this nicely in a single operation, here's
an example of how to set an image for a chat room:</p>
<pre><code>from frankly import FranklyClient

...

file = client.upload_file_from_path(
    './path/to/image.png',
    category = 'roomavatar',
)

room = client.update_room(
    room.id,
    avatar_image_url = file.url,
)
</code></pre>
<p>The object returned by a call to <code>upload_file_from_path</code> and other upload
methods is created in the first step described above.<br />
The <code>category</code> parameter shown here is a hint given the the <strong>Frankly API</strong>
to know what formatting rules should be applied to the resource. This is
useful to provide a better integration with Frankly and better user experience
as files will be optimized for different situations based on their category.</p>
<p>Here are the file categories currently available:</p>
<ul>
<li><code>chat</code>           the default category when none is specified.</li>
<li><code>useravatar</code>     for being displayed in the profile of a user.</li>
<li><code>roomavatar</code>     for being displayed in the profile of a chat room.</li>
<li><code>featuredavatar</code> for bigger avatars can be shown to emphasize that room.</li>
<li><code>sticker</code>        for being used as a sticker.</li>
<li><code>stickerpack</code>    for being used as an avatar of a sticker pack.</li>
</ul>
<h2>Errors</h2>
<p>When the application is misusing the <strong>Frankly API</strong> or when things go wrong
at a different level (network going down, ...), calls to methods of a
<code>FranklyClient</code> instance may not return and instead would raise an exception.</p>
<p>All exceptions raised by calls to the methods will be instances of <code>FranklyError</code>.</p>
<p>The errors give some context about what went wrong, here's a quick example
showing how to handle those situations:</p>
<pre><code>from frankly import FranklyClient
from frankly import FranklyError

...

try:
    client = FranklyClient()
    client.authenticate(app_key, app_secret)

    ...

except FranklyError as e:
    print(e)
</code></pre>
  

  </header>

  <section id="section-items">


    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="frankly.FranklyClient" class="name">class <span class="ident">FranklyClient</span></p>
      
  
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#frankly.FranklyClient">FranklyClient</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, address=&#39;https://app.franklychat.com&#39;, connect_timeout=5, request_timeout=5)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.authenticate">
    <p>def <span class="ident">authenticate</span>(</p><p>self, app_key, app_secret)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.create">
    <p>def <span class="ident">create</span>(</p><p>self, path, params=None, payload=None)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.create_announcement">
    <p>def <span class="ident">create_announcement</span>(</p><p>self, **payload)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.create_file">
    <p>def <span class="ident">create_file</span>(</p><p>self, **params)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.create_room">
    <p>def <span class="ident">create_room</span>(</p><p>self, **payload)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.create_room_message">
    <p>def <span class="ident">create_room_message</span>(</p><p>self, room_id, **payload)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.delete">
    <p>def <span class="ident">delete</span>(</p><p>self, path, params=None, payload=None)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.delete_announcement">
    <p>def <span class="ident">delete_announcement</span>(</p><p>self, announcement_id)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.delete_room">
    <p>def <span class="ident">delete_room</span>(</p><p>self, room_id)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.publish_announcement">
    <p>def <span class="ident">publish_announcement</span>(</p><p>self, announcement_id, to_room_id)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.read">
    <p>def <span class="ident">read</span>(</p><p>self, path, params=None, payload=None)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.read_announcement">
    <p>def <span class="ident">read_announcement</span>(</p><p>self, announcement_id)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.read_announcement_list">
    <p>def <span class="ident">read_announcement_list</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.read_announcement_room_list">
    <p>def <span class="ident">read_announcement_room_list</span>(</p><p>self, announcement_id)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.read_room">
    <p>def <span class="ident">read_room</span>(</p><p>self, room_id)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.read_room_list">
    <p>def <span class="ident">read_room_list</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.read_room_message_list">
    <p>def <span class="ident">read_room_message_list</span>(</p><p>self, room_id, **params)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.update">
    <p>def <span class="ident">update</span>(</p><p>self, path, params=None, payload=None)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.update_file">
    <p>def <span class="ident">update_file</span>(</p><p>self, url, file_obj, file_size, mime_type, encoding=None)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.update_file_from_path">
    <p>def <span class="ident">update_file_from_path</span>(</p><p>self, url, file_path)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.update_room">
    <p>def <span class="ident">update_room</span>(</p><p>self, room_id, **payload)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.upload">
    <p>def <span class="ident">upload</span>(</p><p>self, url, params=None, payload=None, content_length=None, content_type=None, content_encoding=None)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.upload_file">
    <p>def <span class="ident">upload_file</span>(</p><p>self, file_obj, file_size, mime_type, encoding=None, **params)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="frankly.FranklyClient.upload_file_from_path">
    <p>def <span class="ident">upload_file_from_path</span>(</p><p>self, file_path, **params)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="frankly.FranklyClient.session" class="name">var <span class="ident">session</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="frankly.FranklyError" class="name">class <span class="ident">FranklyError</span></p>
      
  
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#frankly.FranklyError">FranklyError</a></li>
          <li>builtins.Exception</li>
          <li>builtins.BaseException</li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="frankly.FranklyError.args" class="name">var <span class="ident">args</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="frankly.FranklyError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, operation, path, status, message)</p>
    </div>
    

    
  
  <div class="source_cont">
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="frankly.FranklyError.message" class="name">var <span class="ident">message</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="frankly.FranklyError.operation" class="name">var <span class="ident">operation</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="frankly.FranklyError.path" class="name">var <span class="ident">path</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="frankly.FranklyError.status" class="name">var <span class="ident">status</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.1</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
